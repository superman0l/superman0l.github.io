在phong光照模型里环境光是恒定的，考虑更改不同部位的环境光可见性信息

随机渲染是一种全局光照计算技术。在这个过程中，每次迭代都会随机改变视点和上方向，然后重新渲染场景。这种方法可以生成更真实的渲染效果，因为它模拟了真实世界中光线的随机反射



随机渲染方法允许预先计算具有静态几何体的场景的环境光遮挡。计算时间取决于您选择的样本数量，但实际上这并不重要，因为我们计算一次并随后用作纹理。这种方法的优点是它的灵活性和能够计算比简单的均匀半球复杂得多的照明。缺点 - 对于双倍纹理坐标，计算不正确。

# Screen space ambient occlusion

环境光遮蔽（Ambient Occlusion）

环境光遮蔽是一种用于模拟全局照明效果的技术，它可以增加场景的真实感。在环境光遮蔽的计算中，我们需要知道一个点周围的几何形状对其的遮蔽程度，而这正是通过计算最大仰角来实现的。

具体来说，对于每个像素，代码会沿着多个方向（在这个例子中，是8个方向）调用`max_elevation_angle`函数，然后计算这些方向上的最大仰角的平均值。这个平均值就是该像素的环境光遮蔽值。这个值越大，表示该像素周围的几何形状对其的遮蔽程度越大，因此应该显示得更暗。